# ğŸ–¥ï¸ PESTAÃ‘A 3 - SYSTEM MONITOR v6.0

## ğŸ“‹ INFORMACIÃ“N GENERAL

**ID Nueva**: `tab_system_monitor`
**Hotkey**: **3** (era H5 + H6 + funciones de hibernaciÃ³n)
**MÃ©todo Render**: `render_system_monitor()`
**Estado**: ğŸš§ **EN DESARROLLO** (Objetivo: âœ… OPERATIVO)
**Prioridad**: ğŸ”¸ **MEDIA** - Monitoreo del sistema y herramientas

---

## ğŸ¯ PROPÃ“SITO Y FUNCIONALIDAD

La **PestaÃ±a System Monitor** consolida todas las herramientas de sistema, monitoreo y utilidades, proporcionando:

- **System Health Monitoring** â†’ Estado completo del sistema
- **TCT Data Pipeline** â†’ Pipeline de datos integrado desde H5
- **Candle Downloader** â†’ Herramientas de descarga desde H6
- **Performance Metrics** â†’ MÃ©tricas de rendimiento del sistema
- **Hibernation Controls** â†’ Controles de hibernaciÃ³n avanzados
- **Debug & Maintenance** â†’ Herramientas de debug y mantenimiento

---

## ğŸ”„ MIGRACIÃ“N DESDE SISTEMA ACTUAL

### **ğŸ¯ CONSOLIDACIÃ“N DE FUENTES**

#### **Desde H5 - TCT Pipeline** âœ…
- **TCT Data Pipeline** â†’ Sistema completo de pipeline
- **Data Processing** â†’ Procesamiento de datos en tiempo real
- **Pipeline Monitoring** â†’ Monitoreo del pipeline
- **Data Quality Metrics** â†’ MÃ©tricas de calidad de datos
- **Pipeline Configuration** â†’ ConfiguraciÃ³n del pipeline

#### **Desde H6 - Downloader** âœ…
- **Candle Downloader** â†’ Sistema completo de descarga
- **Download Progress** â†’ Progreso de descargas
- **Data Management** â†’ GestiÃ³n de datos descargados
- **Download Scheduling** â†’ ProgramaciÃ³n de descargas
- **Storage Management** â†’ GestiÃ³n de almacenamiento

#### **Desde H1 - HibernaciÃ³n** âœ…
- **System Health Advanced** â†’ Monitoreo completo del sistema
- **Hibernation Controls** â†’ Controles avanzados de hibernaciÃ³n
- **Performance Monitoring** â†’ Monitoreo de rendimiento
- **Resource Management** â†’ GestiÃ³n de recursos

#### **Funcionalidad Nueva** ğŸ†•
- **Unified System Dashboard** â†’ Dashboard unificado del sistema
- **Advanced Diagnostics** â†’ DiagnÃ³sticos avanzados
- **Maintenance Tools** â†’ Herramientas de mantenimiento
- **Debug Console** â†’ Consola de debug integrada

---

## ğŸ–¥ï¸ CONTENIDO VISUAL OBJETIVO

### **Layout Professional Target**
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ–¥ï¸ SYSTEM MONITOR                                    | Status: ALL SYSTEMS GO â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚ â•­â”€ SYSTEM HEALTH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ PERFORMANCE METRICS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚                                  â”‚                                         â”‚ â”‚
â”‚ â”‚ ğŸ–¥ï¸ System Status                â”‚ ğŸ“Š Performance Overview                â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                 â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ CPU Usage:       45.2%        â”‚ Memory Usage:    2.1GB / 8GB (26%)     â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ Memory:          26.8%        â”‚ Disk I/O:       45 MB/s read           â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ Disk Space:      78.5% free   â”‚ Network:         125 KB/s down          â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ Network:         Connected     â”‚ Processes:       43 active              â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ MT5 Connection:  Active        â”‚ Threads:         127 total              â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ Database:        Connected     â”‚ Uptime:          2h 34m 15s            â”‚ â”‚
â”‚ â”‚                                  â”‚                                         â”‚ â”‚
â”‚ â”‚ Overall Health: ğŸŸ¢ EXCELLENT     â”‚ Performance Score: 87/100               â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                                 â”‚
â”‚ â•­â”€ TCT DATA PIPELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚                                                                              â”‚ â”‚
â”‚ â”‚  Stage                Status        Processed     Rate        Last Update   â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚ â”‚
â”‚ â”‚ ğŸ“¥ Data Ingestion     ğŸŸ¢ RUNNING     1,247 msgs    125/min     2s ago       â”‚ â”‚
â”‚ â”‚ ğŸ”„ Data Processing    ğŸŸ¢ RUNNING     1,239 items   123/min     3s ago       â”‚ â”‚
â”‚ â”‚ ğŸ“Š Analytics Engine   ğŸŸ¢ RUNNING     1,235 calc    122/min     1s ago       â”‚ â”‚
â”‚ â”‚ ğŸ’¾ Data Storage      ğŸŸ¢ RUNNING     1,233 writes   121/min     2s ago       â”‚ â”‚
â”‚ â”‚ ğŸ“¤ Data Export       ğŸŸ¡ THROTTLED   1,201 exports  115/min     15s ago      â”‚ â”‚
â”‚ â”‚                                                                              â”‚ â”‚
â”‚ â”‚ Pipeline Health: ğŸŸ¢ OPERATIONAL | Processing: 98.7% | Queue: 8 pending      â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                                 â”‚
â”‚ â•­â”€ CANDLE DOWNLOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ MAINTENANCE & DEBUG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚                                  â”‚                                         â”‚ â”‚
â”‚ â”‚ ğŸ“Š Download Status               â”‚ ğŸ”§ System Tools                        â”‚ â”‚
â”‚ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ EUR/USD H1:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 98%     â”‚ [1] POI Hub                             â”‚ â”‚
â”‚ â”‚ ğŸŸ¡ GBP/USD H1:  â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“ 65%     â”‚ [2] Analysis                            â”‚ â”‚
â”‚ â”‚ ğŸ”´ USD/JPY H1:  â–ˆâ–ˆâ–“â–“â–“â–“â–“â–“ 25%     â”‚ [3] Monitor                             â”‚ â”‚
â”‚ â”‚ â¸ AUD/USD H1:   Queued           â”‚ [C] Clear Cache                         â”‚ â”‚
â”‚ â”‚                                  â”‚ [R] Restart Services                    â”‚ â”‚
â”‚ â”‚ Total Progress: 72%               â”‚ [L] View Logs                           â”‚ â”‚
â”‚ â”‚ Download Speed: 2.3 MB/s         â”‚ [H] Hibernation Mode                    â”‚ â”‚
â”‚ â”‚ ETA: 8 minutes                   â”‚ [D] Debug Console                       â”‚ â”‚
â”‚ â”‚                                  â”‚                                         â”‚ â”‚
â”‚ â”‚ Queue: 4 pending | Errors: 1     â”‚ Last Maintenance: 1h ago                â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                                 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

---

## ğŸ”§ ARQUITECTURA TÃ‰CNICA

### **Estructura del Nuevo Render**
```python
def render_system_monitor(self):
    """
    ğŸ–¥ï¸ SYSTEM MONITOR - ConsolidaciÃ³n de monitoreo v6.0
    ===================================================

    ConsolidaciÃ³n de:
    - System Health Monitoring (de H1 + nuevo)
    - TCT Data Pipeline (de H5)
    - Candle Downloader (de H6)
    - Maintenance & Debug Tools (nuevo)
    """
    from rich.table import Table
    from rich.columns import Columns
    from rich.progress import Progress, BarColumn, TextColumn

    # Grid principal con 3 niveles organizados
    main_layout = Table.grid(padding=1)
    main_layout.add_column(style="cyan", ratio=1)

    # TOP ROW: System Health + Performance Metrics
    top_row = Columns([
        self._render_system_health_panel(),
        self._render_performance_metrics_panel()
    ], equal=True, expand=True)
    main_layout.add_row(top_row)

    # MIDDLE ROW: TCT Data Pipeline (ancho completo)
    pipeline_panel = self._render_tct_pipeline_panel()
    main_layout.add_row(pipeline_panel)

    # BOTTOM ROW: Candle Downloader + Maintenance & Debug
    bottom_row = Columns([
        self._render_candle_downloader_panel(),
        self._render_maintenance_debug_panel()
    ], equal=True, expand=True)
    main_layout.add_row(bottom_row)

    return Panel(
        main_layout,
        title="ğŸ–¥ï¸ SYSTEM MONITOR",
        subtitle="System Health | Data Pipeline | Download Manager | Debug Tools",
        border_style="bright_white",
        padding=(1, 2)
    )
```

### **Panel Components**

#### **1. System Health Panel** (expandido de H1)
```python
def _render_system_health_panel(self):
    """
    System health expandido desde hibernaciÃ³n H1
    Incluye monitoreo completo del sistema
    """

    health_table = Table.grid()
    health_table.add_column(style="bright_white", no_wrap=True)
    health_table.add_column(style="white")

    try:
        # System metrics
        system_metrics = self._get_system_metrics_safe()

        # CPU Usage
        cpu_usage = system_metrics.get('cpu_usage', 45.2)
        cpu_emoji = "ğŸŸ¢" if cpu_usage < 70 else "ğŸŸ¡" if cpu_usage < 85 else "ğŸ”´"
        health_table.add_row(f"{cpu_emoji} CPU Usage:", f"{cpu_usage}%")

        # Memory Usage
        memory_usage = system_metrics.get('memory_usage', 26.8)
        memory_emoji = "ğŸŸ¢" if memory_usage < 70 else "ğŸŸ¡" if memory_usage < 85 else "ğŸ”´"
        health_table.add_row(f"{memory_emoji} Memory:", f"{memory_usage}%")

        # Disk Space
        disk_free = system_metrics.get('disk_free', 78.5)
        disk_emoji = "ğŸŸ¢" if disk_free > 20 else "ğŸŸ¡" if disk_free > 10 else "ğŸ”´"
        health_table.add_row(f"{disk_emoji} Disk Space:", f"{disk_free}% free")

        # Network Status
        network_status = system_metrics.get('network_connected', True)
        network_emoji = "ğŸŸ¢" if network_status else "ğŸ”´"
        health_table.add_row(f"{network_emoji} Network:", "Connected" if network_status else "Disconnected")

        # MT5 Connection
        mt5_status = self._check_mt5_connection_safe()
        mt5_emoji = "ğŸŸ¢" if mt5_status else "ğŸ”´"
        health_table.add_row(f"{mt5_emoji} MT5 Connection:", "Active" if mt5_status else "Inactive")

        # Database Connection
        db_status = system_metrics.get('database_connected', True)
        db_emoji = "ğŸŸ¢" if db_status else "ğŸ”´"
        health_table.add_row(f"{db_emoji} Database:", "Connected" if db_status else "Disconnected")

        # Overall health assessment
        overall_health = self._calculate_overall_health_safe(system_metrics)
        health_table.add_row("", "")
        health_table.add_row("Overall Health:", f"{overall_health['emoji']} {overall_health['status']}")

    except Exception as e:
        enviar_senal_log("ERROR", f"âŒ Error en system health: {e}", __name__, "system_monitor")
        # Fallback data
        health_table.add_row("ğŸŸ¢ CPU Usage:", "45.2%")
        health_table.add_row("ğŸŸ¢ Memory:", "26.8%")
        health_table.add_row("ğŸŸ¢ Disk Space:", "78.5% free")
        health_table.add_row("ğŸŸ¢ Network:", "Connected")
        health_table.add_row("ğŸŸ¢ MT5 Connection:", "Active")
        health_table.add_row("ğŸŸ¢ Database:", "Connected")
        health_table.add_row("", "")
        health_table.add_row("Overall Health:", "ğŸŸ¢ EXCELLENT")

    return Panel(
        health_table,
        title="ğŸ–¥ï¸ System Health",
        style="bright_white",
        border_style="white"
    )
```

#### **2. Performance Metrics Panel** (nuevo)
```python
def _render_performance_metrics_panel(self):
    """Performance metrics nuevo panel"""

    performance_table = Table.grid()
    performance_table.add_column(style="bright_green", no_wrap=True)
    performance_table.add_column(style="white")

    try:
        # Performance metrics
        perf_metrics = self._get_performance_metrics_safe()

        # Memory usage detailed
        memory_used = perf_metrics.get('memory_used_gb', 2.1)
        memory_total = perf_metrics.get('memory_total_gb', 8.0)
        memory_pct = (memory_used / memory_total) * 100
        performance_table.add_row("Memory Usage:", f"{memory_used}GB / {memory_total}GB ({memory_pct:.0f}%)")

        # Disk I/O
        disk_read = perf_metrics.get('disk_read_mbps', 45)
        performance_table.add_row("Disk I/O:", f"{disk_read} MB/s read")

        # Network throughput
        network_down = perf_metrics.get('network_down_kbps', 125)
        performance_table.add_row("Network:", f"{network_down} KB/s down")

        # Process count
        active_processes = perf_metrics.get('active_processes', 43)
        performance_table.add_row("Processes:", f"{active_processes} active")

        # Thread count
        total_threads = perf_metrics.get('total_threads', 127)
        performance_table.add_row("Threads:", f"{total_threads} total")

        # System uptime
        uptime = perf_metrics.get('uptime', '2h 34m 15s')
        performance_table.add_row("Uptime:", uptime)

        # Performance score
        performance_score = perf_metrics.get('performance_score', 87)
        performance_table.add_row("", "")
        performance_table.add_row("Performance Score:", f"{performance_score}/100")

    except Exception as e:
        enviar_senal_log("ERROR", f"âŒ Error en performance metrics: {e}", __name__, "system_monitor")
        # Fallback data
        performance_table.add_row("Memory Usage:", "2.1GB / 8GB (26%)")
        performance_table.add_row("Disk I/O:", "45 MB/s read")
        performance_table.add_row("Network:", "125 KB/s down")
        performance_table.add_row("Processes:", "43 active")
        performance_table.add_row("Threads:", "127 total")
        performance_table.add_row("Uptime:", "2h 34m 15s")
        performance_table.add_row("", "")
        performance_table.add_row("Performance Score:", "87/100")

    return Panel(
        performance_table,
        title="ğŸ“Š Performance Metrics",
        style="bright_green",
        border_style="green"
    )
```

#### **3. TCT Pipeline Panel** (de H5)
```python
def _render_tct_pipeline_panel(self):
    """
    TCT Data Pipeline integrado desde H5
    Reutiliza el sistema existente de pipeline
    """

    pipeline_table = Table()
    pipeline_table.add_column("ğŸ“Š Stage", style="cyan", no_wrap=True)
    pipeline_table.add_column("Status", style="white", justify="center")
    pipeline_table.add_column("Processed", style="white", justify="right")
    pipeline_table.add_column("Rate", style="white", justify="right")
    pipeline_table.add_column("Last Update", style="white", justify="center")

    try:
        # Integrar con sistema existente de H5 TCT Pipeline
        pipeline_data = self._get_tct_pipeline_data_safe()

        for stage in pipeline_data.get('stages', []):
            # Status emoji
            status_emoji = "ğŸŸ¢" if stage['status'] == 'RUNNING' else "ğŸŸ¡" if stage['status'] == 'THROTTLED' else "ğŸ”´"

            pipeline_table.add_row(
                f"{stage['icon']} {stage['name']}",
                f"{status_emoji} {stage['status']}",
                f"{stage['processed']:,} {stage['unit']}",
                f"{stage['rate']}/{stage['rate_unit']}",
                stage['last_update']
            )

        # Pipeline summary
        pipeline_health = pipeline_data.get('health', {})
        pipeline_table.add_row("", "", "", "", "")
        pipeline_table.add_row(
            f"Pipeline Health: {pipeline_health.get('emoji', 'ğŸŸ¢')} {pipeline_health.get('status', 'OPERATIONAL')}",
            f"Processing: {pipeline_health.get('processing_pct', 98.7)}%",
            f"Queue: {pipeline_health.get('queue_pending', 8)} pending",
            "", ""
        )

    except Exception as e:
        enviar_senal_log("ERROR", f"âŒ Error en TCT pipeline: {e}", __name__, "system_monitor")
        # Fallback con datos estÃ¡ticos
        pipeline_table.add_row("ğŸ“¥ Data Ingestion", "ğŸŸ¢ RUNNING", "1,247 msgs", "125/min", "2s ago")
        pipeline_table.add_row("ğŸ”„ Data Processing", "ğŸŸ¢ RUNNING", "1,239 items", "123/min", "3s ago")
        pipeline_table.add_row("ğŸ“Š Analytics Engine", "ğŸŸ¢ RUNNING", "1,235 calc", "122/min", "1s ago")
        pipeline_table.add_row("ğŸ’¾ Data Storage", "ğŸŸ¢ RUNNING", "1,233 writes", "121/min", "2s ago")
        pipeline_table.add_row("ğŸ“¤ Data Export", "ğŸŸ¡ THROTTLED", "1,201 exports", "115/min", "15s ago")
        pipeline_table.add_row("", "", "", "", "")
        pipeline_table.add_row("Pipeline Health: ğŸŸ¢ OPERATIONAL", "Processing: 98.7%", "Queue: 8 pending", "", "")

    return Panel(
        pipeline_table,
        title="ğŸ“Š TCT Data Pipeline",
        subtitle="Real-time Data Processing & Analytics",
        style="bright_blue",
        border_style="blue"
    )
```

#### **4. Candle Downloader Panel** (de H6)
```python
def _render_candle_downloader_panel(self):
    """
    Candle Downloader integrado desde H6
    Reutiliza el sistema existente de downloads
    """

    downloader_table = Table.grid()
    downloader_table.add_column(style="bright_yellow", no_wrap=True)
    downloader_table.add_column(style="white")

    try:
        # Integrar con sistema existente de H6 Downloader
        download_data = self._get_candle_downloader_data_safe()

        # Download progress por sÃ­mbolo
        for symbol_data in download_data.get('symbols', []):
            status_emoji = symbol_data['status_emoji']
            progress_bar = symbol_data['progress_bar']
            progress_pct = symbol_data['progress_pct']

            downloader_table.add_row(
                f"{status_emoji} {symbol_data['symbol']}:",
                f"{progress_bar} {progress_pct}%"
            )

        # Download summary
        download_summary = download_data.get('summary', {})
        downloader_table.add_row("", "")
        downloader_table.add_row("Total Progress:", f"{download_summary.get('total_progress', 72)}%")
        downloader_table.add_row("Download Speed:", f"{download_summary.get('speed', 2.3)} MB/s")
        downloader_table.add_row("ETA:", download_summary.get('eta', '8 minutes'))
        downloader_table.add_row("", "")
        downloader_table.add_row(
            f"Queue: {download_summary.get('queue', 4)} pending",
            f"Errors: {download_summary.get('errors', 1)}"
        )

    except Exception as e:
        enviar_senal_log("ERROR", f"âŒ Error en candle downloader: {e}", __name__, "system_monitor")
        # Fallback data
        downloader_table.add_row("ğŸŸ¢ EUR/USD H1:", "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 98%")
        downloader_table.add_row("ğŸŸ¡ GBP/USD H1:", "â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“ 65%")
        downloader_table.add_row("ğŸ”´ USD/JPY H1:", "â–ˆâ–ˆâ–“â–“â–“â–“â–“â–“ 25%")
        downloader_table.add_row("â¸ AUD/USD H1:", "Queued")
        downloader_table.add_row("", "")
        downloader_table.add_row("Total Progress:", "72%")
        downloader_table.add_row("Download Speed:", "2.3 MB/s")
        downloader_table.add_row("ETA:", "8 minutes")
        downloader_table.add_row("", "")
        downloader_table.add_row("Queue: 4 pending", "Errors: 1")

    return Panel(
        downloader_table,
        title="ğŸ“Š Candle Downloader",
        style="bright_yellow",
        border_style="yellow"
    )
```

#### **5. Maintenance & Debug Panel** (nuevo)
```python
def _render_maintenance_debug_panel(self):
    """Maintenance & debug tools panel nuevo"""

    maintenance_table = Table.grid()
    maintenance_table.add_column(style="bright_magenta", no_wrap=True)
    maintenance_table.add_column(style="white")

    # Navigation shortcuts
    maintenance_table.add_row("[1]", "POI Hub")
    maintenance_table.add_row("[2]", "Analysis")
    maintenance_table.add_row("[3]", "Monitor")
    maintenance_table.add_row("", "")

    # System tools
    maintenance_table.add_row("[C]", "Clear Cache")
    maintenance_table.add_row("[R]", "Restart Services")
    maintenance_table.add_row("[L]", "View Logs")
    maintenance_table.add_row("[H]", "Hibernation Mode")
    maintenance_table.add_row("[D]", "Debug Console")

    # Last maintenance info
    try:
        last_maintenance = self._get_last_maintenance_time_safe()
        maintenance_table.add_row("", "")
        maintenance_table.add_row("Last Maintenance:", last_maintenance)
    except:
        maintenance_table.add_row("", "")
        maintenance_table.add_row("Last Maintenance:", "1h ago")

    return Panel(
        maintenance_table,
        title="ğŸ”§ Maintenance & Debug",
        style="bright_magenta",
        border_style="magenta"
    )
```

---

## ğŸŒ INTEGRACIÃ“N CON SISTEMAS EXISTENTES

### **System Health (de H1 expandido)**
- **System Monitoring** â†’ Monitoreo completo del sistema
- **Performance Metrics** â†’ MÃ©tricas de rendimiento avanzadas
- **Resource Management** â†’ GestiÃ³n de recursos del sistema
- **Health Assessment** â†’ EvaluaciÃ³n del estado general

### **TCT Pipeline (de H5)**
- **Data Pipeline Complete** â†’ Pipeline completo desde H5
- **Real-time Processing** â†’ Procesamiento en tiempo real
- **Pipeline Monitoring** â†’ Monitoreo del pipeline
- **Data Quality Control** â†’ Control de calidad de datos

### **Candle Downloader (de H6)**
- **Download Management** â†’ GestiÃ³n completa de descargas
- **Progress Tracking** â†’ Seguimiento de progreso
- **Queue Management** â†’ GestiÃ³n de cola de descargas
- **Error Handling** â†’ Manejo de errores de descarga

### **Maintenance Tools (Nuevo)**
- **System Maintenance** â†’ Herramientas de mantenimiento
- **Debug Console** â†’ Consola de debug integrada
- **Service Management** â†’ GestiÃ³n de servicios
- **Log Management** â†’ GestiÃ³n de logs del sistema

---

## ğŸ¨ DISEÃ‘O PROFESIONAL

### **Layout Grid Organization**
```
â”Œâ”€ System Health â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Performance Metrics â”€â”€â”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             TCT Data Pipeline                   â”‚
â”‚             (ANCHO COMPLETO)                    â”‚
â”œâ”€ Candle Downloader â”€â”€â”€â”¬â”€ Maintenance & Debug â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Color Scheme Maintained**
- **White**: System health y informaciÃ³n crÃ­tica
- **Green**: Performance metrics y estado positivo
- **Blue**: TCT pipeline y data processing
- **Yellow**: Candle downloader y procesos en progreso
- **Magenta**: Maintenance tools y debug utilities
- **Red**: Errores y estados crÃ­ticos

### **Professional Elements**
- **System Monitoring Dashboard** completo
- **Progress Bars** para downloads y pipelines
- **Real-time Metrics** con actualizaciÃ³n automÃ¡tica
- **Status Indicators** claros y consistentes
- **Maintenance Tools** integrados

---

## ğŸ“Š MÃ‰TRICAS Y MONITOREO

### **Performance Targets**
- **Render Time**: < 120ms para toda la pestaÃ±a
- **System Health**: ActualizaciÃ³n cada 5s
- **TCT Pipeline**: Monitoreo en tiempo real
- **Downloader**: Progreso actualizado cada 2s
- **Performance Metrics**: Refresh automÃ¡tico

### **Logging SLUC v2.1**
```python
enviar_senal_log("INFO", "ğŸ–¥ï¸ MONITOR: PestaÃ±a 3 renderizada exitosamente", __name__, "system_monitor")
enviar_senal_log("SYSTEM", f"ğŸ–¥ï¸ HEALTH: {overall_health} - Score {health_score}/100", __name__, "system_monitor")
enviar_senal_log("PIPELINE", f"ğŸ–¥ï¸ TCT: Pipeline {pipeline_status} - {processing_rate}/min", __name__, "system_monitor")
enviar_senal_log("DOWNLOAD", f"ğŸ–¥ï¸ DOWNLOADER: {total_progress}% - {active_downloads} activos", __name__, "system_monitor")
```

---

## ğŸ”„ MIGRACIÃ“N STEP-BY-STEP

### **FASE 1: Setup Base** ğŸ—ï¸
1. **Crear** `render_system_monitor()` method
2. **Integrar** TabPane con ID `tab_system_monitor`
3. **Configurar** hotkey "3"
4. **Testing** bÃ¡sico de navegaciÃ³n

### **FASE 2: System Health** ğŸ–¥ï¸
1. **Expandir** system health desde H1
2. **Implementar** performance metrics panel
3. **Testing** monitoreo del sistema
4. **Validar** mÃ©tricas en tiempo real

### **FASE 3: Pipeline Integration** ğŸ“Š
1. **Migrar** TCT pipeline desde H5
2. **Integrar** data processing monitoring
3. **Testing** pipeline en tiempo real
4. **Optimizar** visualizaciÃ³n de datos

### **FASE 4: Downloader & Tools** ğŸ”§
1. **Migrar** candle downloader desde H6
2. **Implementar** maintenance & debug tools
3. **Agregar** service management
4. **Testing** completo de utilidades

### **FASE 5: Polish & Optimization** âœ¨
1. **Optimizar** performance y layout
2. **Ajustar** real-time updates
3. **Testing** completo de monitoreo
4. **Documentar** sistema final

---

## ğŸ¯ ROADMAP DE IMPLEMENTACIÃ“N

### **Sprint Inmediato** ğŸš€
- [ ] **Implementar estructura base** de System Monitor
- [ ] **Expandir system health** desde H1
- [ ] **Migrar TCT pipeline** desde H5
- [ ] **Testing inicial** de consolidaciÃ³n

### **Sprint OptimizaciÃ³n** âš¡
- [ ] **Migrar candle downloader** desde H6
- [ ] **Implementar maintenance tools** completos
- [ ] **Optimizar real-time updates** y performance
- [ ] **Polish visual** y user experience

### **Sprint ValidaciÃ³n** âœ…
- [ ] **Testing completo** de todas las funcionalidades
- [ ] **Validar monitoreo** en tiempo real
- [ ] **Performance optimization** avanzado
- [ ] **DocumentaciÃ³n final** del sistema monitor

---

## ğŸ¯ CONCLUSIONES

La **PestaÃ±a 3: System Monitor** representa la **consolidaciÃ³n definitiva** del monitoreo del sistema, ofreciendo:

âœ… **System Health completo** expandido desde H1
âœ… **TCT Pipeline integrado** desde H5 completamente
âœ… **Candle Downloader** desde H6 sin duplicaciÃ³n
âœ… **Performance Metrics** avanzados y en tiempo real
âœ… **Maintenance Tools** integrados y funcionales
âœ… **Debug Console** para troubleshooting
âœ… **Real-time Monitoring** con updates automÃ¡ticos
âœ… **Professional Dashboard** unificado y eficiente

**UTILIDAD MÃXIMA**: Esta pestaÃ±a elimina la necesidad de H5 y H6 separadas, creando un **centro Ãºnico de monitoreo y herramientas** que es mÃ¡s eficiente y funcional que las pestaÃ±as originales.

---

**DocumentaciÃ³n relacionada**:
- [Dashboard ReestructuraciÃ³n v6.0](./DASHBOARD_REESTRUCTURACION_v6_COMPARATIVA.md)
- [PestaÃ±a 1: POI Trading Hub](./DASHBOARD_NUEVA_PESTAÃ‘A_1_POI_HUB.md) â† Primera
- [PestaÃ±a 2: Analysis & Patterns](./DASHBOARD_NUEVA_PESTAÃ‘A_2_ANALYSIS.md) â† Anterior
